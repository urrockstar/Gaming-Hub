<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz Game | Gaming Hub</title>
  <style>
    :root {
      --bg-dark: #0f0f0f;
      --bg-light: #f9f9f9;
      --text-dark: #ffffff;
      --text-light: #000000;
      --primary-color: #5f27cd;
      --accent-color: #34ffff;
      --card-bg: #1a1a1a;
      --hover-bg: #222;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0; padding: 0;
      min-height: 100vh;
      display: flex; flex-direction: column;
      transition: background 0.4s, color 0.4s;
    }
    body.dark-mode { background-color: var(--bg-dark); color: var(--text-dark); }
    body.light-mode { background-color: var(--bg-light); color: var(--text-light); }

    header { background-color: black; padding: 1rem 0; position: relative; }
    nav ul { list-style: none; display: flex; justify-content: center; gap: 2rem; margin: 0; padding: 0; }
    nav ul li a { color: white; text-decoration: none; font-weight: 500; }
    ul li a:hover { color: #ff0000; }
    ul li a.active { color: var(--primary-color); font-weight: bold; }

    .toggle-btn {
      position: absolute; right: 1rem; top: 1rem;
      padding: 0.5rem 1rem;
      background-color: var(--card-bg);
      color: var(--accent-color);
      border: 1px solid var(--accent-color);
      border-radius: 20px; cursor: pointer; font-size: 0.9rem;
    }
    .toggle-btn:hover { background-color: var(--hover-bg); }

    .quiz-container {
      max-width: 600px; margin: 3rem auto;
      background: linear-gradient(135deg, rgba(52,255,255,0.1), rgba(255,255,255,0.03));
      padding: 2rem; border-radius: 16px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      backdrop-filter: blur(6px);
    }
    .question { font-size: 1.3rem; margin-bottom: 1.5rem; }
    .options button {
      width: 100%; margin: 0.5rem 0; padding: 0.75rem;
      background-color: var(--hover-bg);
      color: inherit; border: 1px solid var(--accent-color);
      border-radius: 8px; cursor: pointer;
    }
    .options button:hover { background-color: #29cccc; }

    #progressBtn {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      background: var(--primary-color);
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: none;
    }
    #progressBtn:hover {
      background: var(--accent-color);
      color: black;
    }

    .progress-panel {
      position: fixed;
      top: 20%;
      right: -300px; /* hidden by default */
      width: 250px;
      background: var(--card-bg);
      color: var(--text-dark);
      padding: 1rem;
      border-radius: 12px 0 0 12px;
      box-shadow: -4px 4px 12px rgba(0,0,0,0.3);
      transition: right 0.4s ease;
      z-index: 1000;
    }
    .progress-panel.show { right: 0; }
    .progress-panel button {
      width: 100%;
      margin-top: 0.5rem;
      padding: 0.6rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: var(--primary-color);
      color: white;
    }
    .progress-panel button:hover {
      background: var(--accent-color);
      color: black;
    }

    footer { margin-top: auto; text-align: center; padding: 1rem; background: #222; color: white; }
  </style>
</head>
<body class="dark-mode">
  <header>
    <nav>
      <ul>
        <li><a href="Gaming Hub homepage.html">Home</a></li>
        <li><a href="Gaming Hub.html">About</a></li>
        <li><a href="features.html">Features</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="Games.html" class="active">Games</a></li>
      </ul>
      <button class="toggle-btn" onclick="toggleMode()">Toggle Mode</button>
    </nav>
  </header>

  <main class="quiz-container">
    <h2 id="level-title">Level 1</h2>
    <div class="question" id="question">Loading...</div>
    <div class="options" id="options"></div>
    <button id="progressBtn">Progress</button>
  </main>

  <!-- Progress Panel -->
  <div id="progressPanel" class="progress-panel">
    <h3>Progress</h3>
    <p id="progressLevel">Level: 1</p>
    <p id="progressCorrect">Correct: 0</p>
    <p id="progressWrong">Wrong: 0</p>
    <p id="progressScore">Score: 0%</p>
  </div>

  <footer>
    2025 Gaming Hub. All rights reserved.
  </footer>

  <script>
    function toggleMode() {
      document.body.classList.toggle('dark-mode');
      document.body.classList.toggle('light-mode');
      localStorage.setItem('mode', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    }
    window.onload = () => {
      const mode = localStorage.getItem('mode');
      document.body.classList.add(mode === 'light' ? 'light-mode' : 'dark-mode');
    };

    // Question Pool
    const questionPool = {
      1: [
        { q: "Which is the main character in Super Mario?", opts: ["Luigi", "Mario", "Peach", "Bowser"], ans: 1 },
        { q: "What is the default health in Minecraft (hearts)?", opts: ["5", "10", "20", "15"], ans: 2 },
        { q: "Which company created PlayStation?", opts: ["Microsoft", "Nintendo", "Sony", "Sega"], ans: 2 },
        { q: "Which game features 'Creepers'?", opts: ["Roblox", "Minecraft", "Fortnite", "PUBG"], ans: 1 },
        { q: "In Among Us, what role can eliminate impostors?", opts: ["Crewmate", "Engineer", "Sheriff", "Doctor"], ans: 2 },
      ],
      2: [
        { q: "Which year was Fortnite released?", opts: ["2015", "2017", "2019", "2020"], ans: 1 },
        { q: "What is the name of Sonicâ€™s sidekick?", opts: ["Knuckles", "Tails", "Shadow", "Amy"], ans: 1 },
        { q: "Which game has a battle arena called 'Summonerâ€™s Rift'?", opts: ["LoL", "Dota 2", "Smite", "Valorant"], ans: 0 },
        { q: "In PUBG, what is the maximum squad size?", opts: ["2", "3", "4", "5"], ans: 2 },
        { q: "Which company owns Xbox?", opts: ["Sony", "Microsoft", "Nintendo", "Sega"], ans: 1 },
      ],
      3: [
        { q: "Which game is known as 'the hardest game in the world'?", opts: ["Cuphead", "Dark Souls", "Sekiro", "Elden Ring"], ans: 1 },
        { q: "Which character says 'Finish Him!'?", opts: ["Scorpion", "Sub-Zero", "Raiden", "Liu Kang"], ans: 0 },
        { q: "What was the first PokÃ©mon ever designed?", opts: ["Pikachu", "Rhydon", "Bulbasaur", "Mew"], ans: 1 },
        { q: "In GTA V, what city is Los Santos based on?", opts: ["Chicago", "New York", "Los Angeles", "Miami"], ans: 2 },
        { q: "Who is the creator of Minecraft?", opts: ["Markus Persson", "Bill Gates", "Elon Musk", "Jeff Kaplan"], ans: 0 },
      ]
    };

    let level = 1;
    let currentQuestion = 0;
    let correct = 0, wrong = 0;

    function startLevel() {
      correct = 0; wrong = 0; currentQuestion = 0;
      document.getElementById("level-title").textContent = `Level ${level}`;
      showQuestion();
    }

    function showQuestion() {
      const questions = questionPool[level];
      if (currentQuestion < questions.length) {
        const q = questions[currentQuestion];
        document.getElementById("question").textContent = q.q;
        const optionsDiv = document.getElementById("options");
        optionsDiv.innerHTML = "";
        q.opts.forEach((opt, i) => {
          let btn = document.createElement("button");
          btn.textContent = opt;
          btn.onclick = () => {
            if (i === q.ans) correct++;
            else wrong++;
            currentQuestion++;
            showQuestion();
          };
          optionsDiv.appendChild(btn);
        });
      } else {
        endLevel();
      }
    }

    function endLevel() {
      const total = correct + wrong;
      const scorePercent = total > 0 ? Math.round((correct / total) * 100) : 0;
      let status = scorePercent >= 50 ? "âœ… Pass" : "âŒ Fail";

      document.getElementById("question").textContent = `Level ${level} Completed! ${status} (${scorePercent}%)`;
      document.getElementById("options").innerHTML = "";
      document.getElementById("progressBtn").style.display = "block";

      // Clear old buttons in progress panel
      const progressPanel = document.getElementById("progressPanel");
      const existingBtns = progressPanel.querySelectorAll(".action-btn");
      existingBtns.forEach(btn => btn.remove());

      if (scorePercent >= 50 && level < Object.keys(questionPool).length) {
        // Inside panel only
        let panelNextBtn = document.createElement("button");
        panelNextBtn.textContent = "Next Level";
        panelNextBtn.classList.add("action-btn");
        panelNextBtn.onclick = () => {
          document.getElementById("progressPanel").classList.remove("show");
          document.getElementById("progressBtn").style.display = "none";
          level++;
          startLevel();
        };
        progressPanel.appendChild(panelNextBtn);

      } else if (scorePercent < 50) {
        // Inside panel only
        let panelRetryBtn = document.createElement("button");
        panelRetryBtn.textContent = "Retry Level";
        panelRetryBtn.classList.add("action-btn");
        panelRetryBtn.onclick = () => {
          document.getElementById("progressPanel").classList.remove("show");
          document.getElementById("progressBtn").style.display = "none";
          startLevel();
        };
        progressPanel.appendChild(panelRetryBtn);

      } else if (scorePercent >= 50 && level === Object.keys(questionPool).length) {
        document.getElementById("question").textContent = "ðŸŽ‰ All Levels Completed! Great job!";
      }

      updateProgressPanel();
    }

    function updateProgressPanel() {
      document.getElementById("progressLevel").textContent = `Level: ${level}`;
      document.getElementById("progressCorrect").textContent = `Correct: ${correct}`;
      document.getElementById("progressWrong").textContent = `Wrong: ${wrong}`;
      const total = correct + wrong;
      const scorePercent = total > 0 ? Math.round((correct / total) * 100) : 0;
      document.getElementById("progressScore").textContent = `Score: ${scorePercent}%`;
    }

    document.getElementById("progressBtn").addEventListener("click", () => {
      document.getElementById("progressPanel").classList.toggle("show");
    });

    startLevel();
  </script>
</body>
</html>
